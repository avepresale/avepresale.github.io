import{e as T,i as X,m as Y,u as Z,c as o,a as ee,s as te,b as A,d as N,f as ae,r as C,o as i,g as b,h as n,_ as M,j as $,k as d,l as r,w as y,t as v,F as L,n as B,p as ne,q as se,v as le,x as oe,y as ie,z as re,A as I}from"./index-6a51b356.js";import{u as ce}from"./presale-b9415f58.js";import{_ as k,f as U,g as ue}from"./TokenIcon-f6441e17.js";import"./dayjs.min-c263b26c.js";import{d as F,C as de}from"./dappList-82189d51.js";import{L as pe,F as _e}from"./Footer-825e1f2a.js";import{s as ve}from"./function-call-340b9aaf.js";import"./Progress-4f868af6.js";let P;const fe={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let me=T({},fe);function ge(){({instance:P}=Y({setup(){const{state:u,toggle:s}=Z();return()=>o(te,ee(u,{"onUpdate:show":s}),null)}}))}function he(m){return X?new Promise((u,s)=>{P||ge(),P.open(T({},me,m,{callback:e=>{(e==="confirm"?u:s)(e)}}))}):Promise.resolve()}const ye=m=>he(T({showCancelButton:!0},m));const Ce={__name:"SelectLanDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:u}){const s=A(),{t:e}=N(),f=ae(()=>[{name:e("languages.zh-cn"),value:"zh-cn",color:s.language==="zh-cn"?"#3F80F7":"#323233"},{name:e("languages.en"),value:"en",color:s.language==="en"?"#3F80F7":"#323233"}]);function w(_){s.setLanguage(_.value),u("update:show",!1)}return(_,c)=>{const t=C("van-action-sheet");return i(),b(t,{show:m.show,title:_.$t("switchLang"),actions:n(f),onClose:c[0]||(c[0]=p=>u("update:show",!1)),closeable:!1,"cancel-text":_.$t("cancel"),"close-on-click-action":"",onSelect:w},null,8,["show","title","actions","cancel-text"])}}};const ke={class:"left"},we={key:0,class:"address"},$e={class:"address-text"},xe={key:1,class:"address"},De={style:{"margin-left":"4px"}},be={class:"dapp-list"},Le=["onClick"],Ie={class:"name"},Be={key:0,class:"tips"},Pe={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(m){const u=m,{t:s}=N(),e=A(),f=$(!1);function w(_){if(!_){ve(s("menuComingSoon"));return}window.open(_)}return(_,c)=>{const t=C("van-popup");return i(),d(L,null,[r("div",{onClick:c[0]||(c[0]=p=>f.value=!0)},[o(k,{class:"icon",name:"menu"})]),o(t,{show:f.value,"onUpdate:show":c[2]||(c[2]=p=>f.value=p),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:y(()=>[r("div",ke,[o(k,{class:"icon",name:"menu",onClick:c[1]||(c[1]=p=>f.value=!1)}),n(e).isConnectWallet?(i(),d("div",we,[o(k,{class:"chain-icon",name:"wallet"}),r("div",$e,v(n(U)(n(e).walletAddress)),1)])):(i(),d("div",xe,[o(k,{name:"wallet"}),r("div",De,v(n(s)("menuNoConnet")),1)]))]),r("ul",be,[(i(!0),d(L,null,B(u.dappList,p=>(i(),d("li",{class:ne(["dapp-list-item",p.selected?"dapp-list-item-selected":""]),onClick:S=>w(p.url)},[o(k,{class:"svg-icon",name:p.iconGrey},null,8,["name"]),r("div",Ie,v(n(s)(p.name)),1),p.url?se("",!0):(i(),d("div",Be,v(n(s)("menuComingSoon")),1))],10,Le))),256))])]),_:1},8,["show"])],64)}}},Te=M(Pe,[["__scopeId","data-v-7d9655ee"]]);const Ae={class:"launch-pad"},Ne={class:"tools-bar"},Se={class:"left"},We={key:1,class:"error"},Fe={class:"address-text"},Me={style:{"margin-left":"6px"}},Ue={class:"tools"},qe={class:"query"},Oe={key:0,class:"no-data"},Re={class:"text"},Ve={class:"btn-box"},je={key:0},ze={__name:"Index",setup(m){const{t:u}=N(),s=A(),e=ce(),f=le(),w=oe("global");$(!1);const _=$(!1),c=$(""),t=$(0);function p(a){console.log(w);const l=w.cfg.allowChainList.find(D=>D.chainId==a);let x;return l?x=l.chain:x=null,x}async function S(){await s.connectWallet()}function q(){ye({title:u("tips"),message:u("disonnectWallet"),confirmButtonText:u("confirm"),cancelButtonText:u("cancel")}).then(()=>{s.disconnectWallet()}).catch(()=>{})}F.forEach(a=>a.selected=a.name=="menuPresell");const O=$(F);ie(()=>s.chainId,(a,l)=>{if(a&&a!=-1){if(e.presaleData[t.value].loading||e.presaleData[t.value].list.length>0)return;W()}});async function R(){if(!e.presaleData[t.value].loading){e.tokenAddress="",e.tokenName="",c.value&&(/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(c.value)?e.tokenAddress=c.value:e.tokenName=c.value);for(let a in e.presaleData)e.presaleData[a]={list:[],loading:!1,pageNo:1,finished:!1,error:!1,refreshing:!1};await e.getPresaleList(t.value)}}function V(){e.presaleData[t.value].loading||e.presaleData[t.value].list.length>0||e.getPresaleList(t.value)}function W(){e.getPresaleList(t.value)}async function j(){e.presaleData[t.value].loading||(e.presaleData[t.value]={list:[],loading:!1,pageNo:1,finished:!1,error:!1,refreshing:!1},e.presaleData[t.value].refreshing=!0,await e.getPresaleList(t.value))}function z(){f.push("/Create")}function E(a){f.push("/Detail/"+a.chain+"/"+a.contractAddress)}function H(){f.push("/MyLaunch")}return re(()=>{}),(a,l)=>{const x=C("van-image"),D=C("van-button"),G=C("van-list"),Q=C("van-pull-refresh"),J=C("van-tab"),K=C("van-tabs");return i(),d(L,null,[r("div",Ae,[r("div",Ne,[r("div",Se,[o(Te,{"dapp-list":O.value},null,8,["dapp-list"]),n(s).isConnectWallet?(i(),d("div",{key:0,class:"address",onClick:q},[p(n(s).chainId)?(i(),b(x,{key:0,class:"chain-icon",round:"",src:n(ue)(p(n(s).chainId))},null,8,["src"])):(i(),d("div",We,"ERROR")),r("div",Fe,v(n(U)(n(s).walletAddress)),1)])):(i(),d("div",{key:1,class:"address",onClick:S},[o(k,{name:"wallet"}),r("div",Me,v(a.$t("pleaseConnectWallet")),1)]))]),r("div",Ue,[o(k,{class:"icon",name:"language",onClick:l[0]||(l[0]=h=>_.value=!0)})])]),r("div",qe,[o(de,{class:"query-input",contractAddress:c.value,"onUpdate:contractAddress":l[1]||(l[1]=h=>c.value=h),placeholderText:a.$t("tokenNameContract")},null,8,["contractAddress","placeholderText"]),o(D,{type:"primary",class:"query-btn",onClick:R},{default:y(()=>[I(v(a.$t("query")),1)]),_:1})]),r("div",null,[o(K,{class:"launch-pad-content",active:t.value,"onUpdate:active":l[6]||(l[6]=h=>t.value=h),onClickTab:V,shrink:""},{default:y(()=>[(i(!0),d(L,null,B(n(s).launchPadData,h=>(i(),b(J,{title:n(u)(h.type)},{default:y(()=>[o(Q,{class:"launch-pad-box",modelValue:n(e).presaleData[t.value].refreshing,"onUpdate:modelValue":l[5]||(l[5]=g=>n(e).presaleData[t.value].refreshing=g),onRefresh:j,"pulling-text":a.$t("pulling"),"loosing-text":a.$t("loosing"),"loading-text":a.$t("loading")},{default:y(()=>[o(G,{class:"launch-pad-list",loading:n(e).presaleData[t.value].loading,"onUpdate:loading":l[2]||(l[2]=g=>n(e).presaleData[t.value].loading=g),"loading-text":a.$t("loading"),finished:n(e).presaleData[t.value].finished,"finished-text":n(e).presaleData[t.value].list.length>0?a.$t("noMore"):"",error:n(e).presaleData[t.value].error,"onUpdate:error":l[3]||(l[3]=g=>n(e).presaleData[t.value].error=g),"error-text":a.$t("errorText"),onLoad:l[4]||(l[4]=g=>W())},{default:y(()=>[n(e).presaleData[t.value].list.length==0?(i(),d("div",Oe,[o(k,{class:"icon",name:"empty"}),r("div",Re,v(a.$t("noData")),1)])):(i(!0),d(L,{key:1},B(n(e).presaleData[t.value].list,g=>(i(),b(pe,{class:"launch-pad-item",presaleItem:g,onClick:Ee=>E(g)},null,8,["presaleItem","onClick"]))),256))]),_:2},1032,["loading","loading-text","finished","finished-text","error","error-text"])]),_:2},1032,["modelValue","pulling-text","loosing-text","loading-text"]),r("div",Ve,[n(s).isConnectWallet?(i(),d("div",je,[o(D,{class:"btn",type:"primary",onClick:z},{default:y(()=>[I(v(a.$t("launchPresale")),1)]),_:1}),r("div",{class:"my-launch",onClick:H},v(a.$t("myLaunch")),1)])):(i(),b(D,{key:1,class:"btn",type:"primary"},{default:y(()=>[I(v(a.$t("connectWallet")),1)]),_:1}))])]),_:2},1032,["title"]))),256))]),_:1},8,["active"])]),o(_e)]),o(Ce,{show:_.value,"onUpdate:show":l[7]||(l[7]=h=>_.value=h)},null,8,["show"])],64)}}},et=M(ze,[["__scopeId","data-v-e3eace86"]]);export{et as default};
