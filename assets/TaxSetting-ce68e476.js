import{D as X}from"./DropDown-510c6e30.js";import{_ as j,u as W,d as G,g as B,K as ee,L as T,n as O,s as b,r as g,o as f,m as A,l as d,a as n,b as r,c as L,x as te,T as se,t as v,j as t,J as $,F as M,y as Y,q as ae,f as le,A as z,M as Z,C as D}from"./index-b410fac3.js";import{u as J}from"./create-1a7ac73d.js";import{B as p}from"./bignumber-3e8dfdf6.js";import{R as x}from"./Rate-761af423.js";/* empty css                                                       */const oe={class:"chain-swap"},re=["onClick"],ue={class:"left"},ie={class:"swap-name"},de={class:"right"},ce={__name:"ChainSwaps",props:{showChainSwap:Boolean},emits:["update:showChainSwap"],setup(U,{emit:N}){const k=U,{t:P}=W(),F=G(),e=J(),h=B(""),w=B([]);ee(()=>k.showChainSwap,(y,o)=>{y&&w.value.length==0&&R()}),R();const I=T(()=>h.value?w.value.filter(y=>y.showName.toLowerCase().indexOf(h.value.toLocaleLowerCase())!=-1):w.value);async function R(){w.value=[];let y=F.chain;if(y=="bsc_test")w.value=[{chain:"bsc",factoryAddress:"0x6725F303b657a9451d8BA641348b6761A6CC7a17",isSwapSupported:1,name:"cakev2",routerAddress:"0xd99d1c33f9fc3444f8101754abc46c52416550d1",showName:"PancakeSwapV2",sortId:1,swapUrl:"https://pancakeswap.finance/swap?inputCurrency=BNB&outputCurrency=",swapIcon:"https://www.avestorage.cloud/swap/cakev2.jpeg"}];else try{let o=await O.ave.getChainSwaps(y);if(o.data.status==1){let c=o.data.data;if(c&&c.length>0)for(let i of c){let C="https://www.avestorage.cloud/swap/"+i.name+".jpeg",m={chain:i.chain,factoryAddress:i.factory_address.toLowerCase(),isSwapSupported:i.is_swap_supported,name:i.name,routerAddress:i.router_address.toLowerCase(),showName:i.show_name,sortId:i.sort_id,swapUrl:i.swap_url,swapIcon:C};w.value.push(m)}console.log(w.value)}else b(P("unknowError"))}catch(o){o&&o.message?b(o.message):b(P("unknowError"))}finally{}}function V(y){e.chainSwap=y,N("update:showChainSwap",!1)}return(y,o)=>{const c=g("van-search"),i=g("van-icon"),C=g("van-action-sheet");return f(),A(C,{show:U.showChainSwap,"safe-area-inset-bottom":"",title:y.$t("selectSwap"),onClose:o[1]||(o[1]=m=>N("update:showChainSwap",!1)),onCancel:o[2]||(o[2]=m=>N("update:showChainSwap",!1))},{default:d(()=>[n(c,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=m=>h.value=m),shape:"round",placeholder:y.$t("search"),clearable:""},null,8,["modelValue","placeholder"]),r("ul",oe,[(f(!0),L(M,null,te(I.value,m=>(f(),L("li",{class:"swap-item",onClick:s=>V(m)},[r("div",ue,[n(se,{class:"token-icon",tokenIcon:m.swapIcon},null,8,["tokenIcon"]),r("div",ie,v(m.showName),1)]),r("div",de,[t(e).chainSwap&&t(e).chainSwap.factoryAddress==m.factoryAddress?(f(),A(i,{key:0,name:"success",color:"#3F80F7"})):$("",!0)])],8,re))),256))])]),_:1},8,["show","title"])}}},pe=j(ce,[["__scopeId","data-v-16828252"]]);const ve={class:"token-list"},me=["onClick"],we={class:"left"},fe={class:"token-info"},ye={class:"token-name"},ke={class:"token-address"},he={class:"right"},_e={key:0,class:"amount"},be={class:"price"},Fe={class:"icon"},ge={__name:"TokenList",props:{showTokenList:Boolean},emits:["update:showTokenList"],setup(U,{emit:N}){const k=U,{t:P}=W(),F=G(),e=J(),h=B(""),w=B([]);ee(()=>k.showTokenList,(o,c)=>{o&&w.value.length==0&&V()}),V();const I=T(()=>h.value?h.value.startsWith("0x")?w.value.filter(o=>o.address.toLowerCase()==h.value.toLowerCase()):w.value.filter(o=>o.symbol.toLowerCase().indexOf(h.value.toLowerCase())>-1):w.value);function R(o){e.token=o,N("update:showTokenList",!1)}async function V(){let o=F.chain,c=[];if(o=="bsc_test")c=[{chain:"bsc",demical:18,name:"",symbol:"BNB",tokenAddress:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",currentPriceUsd:289.85489812433093,value:.0319133884,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee.png"},{chain:"bsc",demical:18,name:"Binance-Peg BSC-USD",symbol:"USDT",tokenAddress:"0x337610d27c682E347C9cD60BD4b3b107C9d34dDd",currentPriceUsd:.9970705187821386,value:0,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0x55d398326f99059ff775485246999027b3197955.png"},{chain:"bsc",demical:18,name:"Wrapped BNB",symbol:"WBNB",tokenAddress:"0xae13d989dac2f0debff460ac112a837c89baa7cd",currentPriceUsd:289.85489812433093,value:0,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png"}];else try{let i=await O.ave.getUserToken(o,F.walletAddress);if(console.log(i),i.data.status==1){let m=i.data.data.filter(s=>new RegExp("^0x.*$","gi").test(s.token)&&s.value>0&&s.risk_score<60&&s.risk_level>=0&&s.flag!=="blacklist"&&s.symbol!==""&&s.flag!=="lp"&&s.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(s=>({chain:s.chain,demical:s.decimals,name:s.name,symbol:s.symbol,tokenAddress:s.token.toLowerCase(),currentPriceUsd:s.current_price_usd,value:s.value,icon:Y(s.chain.toLowerCase(),s.token.toLowerCase())}));c=c.concat(m)}else return;let C=await O.ave.getSwapTokens(o);if(console.log(C),C.data.status==1){let m=C.data.data.filter(s=>new RegExp("^0x.*$","gi").test(s.token)&&c.findIndex(q=>q.tokenAddress==s.token)==-1&&s.risk_score<60&&s.risk_level>=0&&s.flag!=="blacklist"&&s.symbol!==""&&s.flag!=="lp"&&s.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(s=>({chain:s.chain,demical:s.decimals,name:s.name,symbol:s.symbol,tokenAddress:s.token.toLowerCase(),currentPriceUsd:s.current_price_usd,value:s.value,icon:Y(s.chain.toLowerCase(),s.token.toLowerCase())}));c=c.concat(m)}else return}catch(i){i&&i.message?b(i.message):b(P("unknowError")),c=[]}finally{}w.value=c}function y(){N("update:showTokenList",!1)}return(o,c)=>{const i=g("van-search"),C=g("van-icon"),m=g("van-action-sheet");return f(),A(m,{show:U.showTokenList,"safe-area-inset-bottom":"",title:o.$t("selectCurrency"),onClose:y,onCancel:y},{default:d(()=>[n(i,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=s=>h.value=s),shape:"round",placeholder:o.$t("searchTokenOrName"),clearable:""},null,8,["modelValue","placeholder"]),r("ul",ve,[(f(!0),L(M,null,te(I.value,s=>(f(),L("li",{class:"token-item",onClick:q=>R(s)},[r("div",we,[n(se,{class:"token-icon",tokenIcon:s.icon},null,8,["tokenIcon"]),r("div",fe,[r("div",ye,v(s.symbol),1),r("div",ke,v(t(ae)(s.tokenAddress)),1)])]),r("div",he,[s.value>0?(f(),L("div",_e,[r("div",null,v(t(p)(s.value).toString().indexOf(".")==-1?t(p)(s.value):t(p)(s.value).toFixed(6)),1),r("div",be,"$"+v(t(p)(s.value).multipliedBy(s.currentPriceUsd).toFixed(2)),1)])):$("",!0),r("div",Fe,[t(e).token&&t(e).token.tokenAddress==s.tokenAddress?(f(),A(C,{key:0,name:"success",color:"#3F80F7"})):$("",!0)])])],8,me))),256))])]),_:1},8,["show","title"])}}},Ce=j(ge,[["__scopeId","data-v-88de781c"]]);const Se={class:"setting"},Te={class:"explain"},$e={style:{color:"#999"}},Ie={class:"rate-setting"},Le={class:"title"},xe={class:"rate-setting"},Be={class:"title"},Ae={class:"address-setting"},Ne={class:"title"},Pe={class:"explain"},Ue={class:"btn-control-group"},Re={class:"content"},_=20,Ve={__name:"TaxSetting",props:{createTokenLoading:Boolean},emits:["createTokenClick","nextStepClick"],setup(U,{emit:N}){const{t:k}=W(),P=le(),F=G(),e=J(),h=B(!1),w=B(!1),I=B(!1);B(!1);const R=T(()=>e.deployerId==1?p(_).minus(e.buyBurnFee).minus(e.buyLPFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.buyRewardFee).minus(e.buyLPFee).toNumber():0),V=T(()=>e.deployerId==1?p(_).minus(e.buyFundFee).minus(e.buyBurnFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.buyFundFee).minus(e.buyRewardFee).toNumber():0),y=T(()=>{if(e.deployerId==1)return p(_).minus(e.buyFundFee).minus(e.buyLPFee).toNumber()}),o=T(()=>e.deployerId==2||e.deployerId==3?p(_).minus(e.buyFundFee).minus(e.buyLPFee).toNumber():0),c=T(()=>e.deployerId==1?p(_).minus(e.sellBurnFee).minus(e.sellLPFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.sellRewardFee).minus(e.sellLPFee).toNumber():0),i=T(()=>e.deployerId==1?p(_).minus(e.sellFundFee).minus(e.sellBurnFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.sellFundFee).minus(e.sellRewardFee).toNumber():0),C=T(()=>e.deployerId==1?p(_).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0),m=T(()=>e.deployerId==2||e.deployerId==3?p(_).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0);function s(){P.push("/createToken/create/detail")}function q(){const l=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(e.deployerId===1||e.deployerId==2||e.deployerId==3){if(!e.token){b(k("pleaseSelectCurrency"));return}if(!e.chainSwap){b(k("pleaseSelectSwap"));return}if(e.deployerId===1){if(p(e.buyFundFee).plus(e.buyBurnFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellBurnFee).plus(e.sellLPFee).lte(0)){b(k("taxMustGt0"));return}}else if(e.deployerId===2){if(p(e.buyFundFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellLPFee).lte(0)){b(k("taxlimit2"));return}}else if(e.deployerId===3){if(!e.rewardToken){b(k("dividendTokenError"));return}if(!l.test(e.rewardToken)){b(k("pleaseEnterTrueAddress"));return}if(p(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).lte(0)){b(k("taxMustGt0"));return}}if((Number(e.buyFundFee)>0||Number(e.sellFundFee)>0)&&!e.fundAddress){b(k("pleaseEnterMarketingAddress"));return}if(e.fundAddress&&!l.test(e.fundAddress)){b(k("pleaseEnterTrueAddress"));return}}P.push("/createToken/create/IssueControl")}return e.step=1,(l,a)=>{const S=g("van-cell"),E=g("van-cell-group"),K=g("van-field"),H=g("van-icon"),Q=g("van-button"),ne=g("van-dialog");return f(),L(M,null,[r("div",Se,[n(E,{inset:""},{default:d(()=>[n(S,{title:l.$t("selectCurrency"),class:"switch-cell",onClick:a[0]||(a[0]=u=>w.value=!0)},Z({_:2},[t(e).token?{name:"value",fn:d(()=>[n(X,{logo:t(e).token.icon,value:t(e).token.symbol},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:d(()=>[r("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),r("div",Te,v(l.$t("currencyExplain")),1),n(E,{inset:""},{default:d(()=>[n(S,{title:l.$t("selectSwap"),class:"switch-cell",onClick:a[1]||(a[1]=u=>h.value=!0)},Z({_:2},[t(e).chainSwap?{name:"value",fn:d(()=>[n(X,{logo:t(e).chainSwap.swapIcon,value:t(e).chainSwap.showName},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:d(()=>[r("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),t(e).deployerId===3?(f(),L(M,{key:0},[n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(K,{modelValue:t(e).rewardToken,"onUpdate:modelValue":a[2]||(a[2]=u=>t(e).rewardToken=u),"label-width":"8em",label:l.$t("rewardToken"),placeholder:l.$t("enterContract"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[r("div",$e,v(l.$t("rewardTokenInfo",{chainToken:t(F).chainCoinSymbol})),1)]),_:1})],64)):$("",!0),r("div",Ie,[r("div",Le,[z(v(t(k)("buyTax",{max:_})),1),n(H,{class:"question-icon",name:"question-o",onClick:a[3]||(a[3]=u=>I.value=!0)})]),n(S,{class:"rate-cell",title:l.$t("marketingTax")},{extra:d(()=>[n(x,{value:t(e).buyFundFee,"onUpdate:value":a[4]||(a[4]=u=>t(e).buyFundFee=u),"max-value":R.value},null,8,["value","max-value"])]),_:1},8,["title"]),n(S,{class:"rate-cell",title:l.$t("liquidityTax")},{extra:d(()=>[n(x,{value:t(e).buyLPFee,"onUpdate:value":a[5]||(a[5]=u=>t(e).buyLPFee=u),"max-value":V.value},null,8,["value","max-value"])]),_:1},8,["title"]),t(e).deployerId==1?(f(),A(S,{key:0,class:"rate-cell",title:l.$t("burnTax")},{extra:d(()=>[n(x,{value:t(e).buyBurnFee,"onUpdate:value":a[6]||(a[6]=u=>t(e).buyBurnFee=u),"max-value":y.value},null,8,["value","max-value"])]),_:1},8,["title"])):$("",!0),t(e).deployerId==2||t(e).deployerId==3?(f(),A(S,{key:1,class:"rate-cell",title:l.$t("rewardTax")},{extra:d(()=>[n(x,{value:t(e).buyRewardFee,"onUpdate:value":a[7]||(a[7]=u=>t(e).buyRewardFee=u),"max-value":o.value},null,8,["value","max-value"])]),_:1},8,["title"])):$("",!0)]),r("div",xe,[r("div",Be,[z(v(t(k)("sellTax",{max:_})),1),n(H,{class:"question-icon",name:"question-o",onClick:a[8]||(a[8]=u=>I.value=!0)})]),n(S,{class:"rate-cell",title:l.$t("marketingTax")},{extra:d(()=>[n(x,{value:t(e).sellFundFee,"onUpdate:value":a[9]||(a[9]=u=>t(e).sellFundFee=u),"max-value":c.value},null,8,["value","max-value"])]),_:1},8,["title"]),n(S,{class:"rate-cell",title:l.$t("liquidityTax")},{extra:d(()=>[n(x,{value:t(e).sellLPFee,"onUpdate:value":a[10]||(a[10]=u=>t(e).sellLPFee=u),"max-value":i.value},null,8,["value","max-value"])]),_:1},8,["title"]),t(e).deployerId==1?(f(),A(S,{key:0,class:"rate-cell",title:l.$t("burnTax")},{extra:d(()=>[n(x,{value:t(e).sellBurnFee,"onUpdate:value":a[11]||(a[11]=u=>t(e).sellBurnFee=u),"max-value":C.value},null,8,["value","max-value"])]),_:1},8,["title"])):$("",!0),t(e).deployerId==2||t(e).deployerId==3?(f(),A(S,{key:1,class:"rate-cell",title:l.$t("rewardTax")},{extra:d(()=>[n(x,{value:t(e).sellRewardFee,"onUpdate:value":a[12]||(a[12]=u=>t(e).sellRewardFee=u),"max-value":m.value},null,8,["value","max-value"])]),_:1},8,["title"])):$("",!0)]),r("div",Ae,[r("div",Ne,v(l.$t("addressSetting")),1),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(S,{title:l.$t("ownerAddr"),class:"switch-cell",value:t(ae)(t(F).walletAddress)},null,8,["title","value"])]),_:1}),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(K,{modelValue:t(e).fundAddress,"onUpdate:modelValue":a[13]||(a[13]=u=>t(e).fundAddress=u),"label-width":"10em",label:l.$t("marketingAddress"),placeholder:l.$t("enterAddress"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),r("div",Pe,v(l.$t("marketAddressExplain")),1)]),r("div",Ue,[n(Q,{type:"primary",plain:"",round:"",block:"",class:"btn-control",onClick:s},{default:d(()=>[z(v(l.$t("previousStep")),1)]),_:1}),n(Q,{type:"primary",round:"",block:"",class:"btn-control",onClick:q},{default:d(()=>[z(v(l.$t("nextStep")),1)]),_:1})])]),n(ne,{class:"tax-instruction",show:I.value,"onUpdate:show":a[14]||(a[14]=u=>I.value=u),title:l.$t("taxInstruction"),showCancelButton:!1,confirmButtonText:l.$t("understand"),onConfirm:a[15]||(a[15]=u=>I.value=!1),"close-on-click-overlay":""},{default:d(()=>[r("div",Re,[r("div",{class:D(t(F).language)},v(l.$t("taxInstructionText1")),3),r("div",{class:D(t(F).language)},v(l.$t("taxInstructionText2")),3),r("div",{class:D(t(F).language)},v(l.$t("taxInstructionText3")),3),t(e).deployerId==1?(f(),L("div",{key:0,class:D(t(F).language)},v(l.$t("taxInstructionText4")),3)):$("",!0),t(e).deployerId==2||t(e).deployerId==3?(f(),L("div",{key:1,class:D(t(F).language)},v(l.$t("taxInstructionText5")),3)):$("",!0),r("div",{class:D(t(F).language)},v(l.$t("taxInstructionText6")),3)])]),_:1},8,["show","title","confirmButtonText"]),n(Ce,{showTokenList:w.value,"onUpdate:showTokenList":a[16]||(a[16]=u=>w.value=u)},null,8,["showTokenList"]),n(pe,{showChainSwap:h.value,"onUpdate:showChainSwap":a[17]||(a[17]=u=>h.value=u)},null,8,["showChainSwap"])],64)}}},je=j(Ve,[["__scopeId","data-v-faf787b4"]]);export{je as default};
