import{_ as E,g as C,i as G,N as b,V as ie,r as L,o,c as m,b as a,a as p,j as d,z as de,T as A,t as i,m as v,l as $,A as S,I,W as P,B as ue,d as re,f as pe,u as me,U as he,h as X,X as R,p as fe,n as ve,k as f,s as ke,q as ge,F as H,x as K}from"./index-f1b0dec3.js";import{u as J,M as _e,S as q,L as ye}from"./SingleSelect-fee73fca.js";import{e as V}from"./ethers-1df84b72.js";import{B as we}from"./bignumber-3e8dfdf6.js";import{f as W}from"./units-ecedf105.js";import{s as Ie}from"./function-call-0bd88380.js";const $e={class:"item"},Se={class:"token-info"},Ne={class:"token-name"},Ce={class:"tags"},Le={class:"item"},be={class:"sale-status"},Te={key:0,class:"sale-live"},xe={key:1,class:"upcoming"},Ae={key:2,class:"ended"},Ue={key:3,class:"canceled"},De={class:"price"},Be={key:0},Pe={key:1},Ve={class:"item"},We={class:"platform"},ze={class:"start-time"},Fe={__name:"LaunchpadListItem",props:{launchpadItem:Object},setup(z){const e=z,l=J();C("");let g=null;G(()=>{});const w=b(()=>e.launchpadItem.hardCap!==""&&e.launchpadItem.hardCap!=="0"?W(e.launchpadItem.hardCap,e.launchpadItem.currencyDecimals):W(e.launchpadItem.softCap,e.launchpadItem.currencyDecimals));b(()=>l.platforms.find(r=>r.value==e.launchpadItem.platform).name);const k=b(()=>we(W(e.launchpadItem.cumulateAmount,e.launchpadItem.currencyDecimals)).dividedBy(w.value).multipliedBy(100).toFixed(2));ie(()=>{clearInterval(g)});function _(){if(e.launchpadItem.detailUrl)window.open(e.launchpadItem.detailUrl);else if(e.launchpadItem.platform=="pinksale")window.open("https://www.pinksale.finance/launchpad/"+e.launchpadItem.address+"?chain="+l.networks.find(r=>r.value==e.launchpadItem.chainId).pinkName);else if(e.launchpadItem.platform=="uncx"){let r;e.launchpadItem.chain=="eth"?r="uni-v2":e.launchpadItem.chain=="bsc"&&(r="pancake-v2");let h="https://app.uncx.network/amm/"+r+"/ilo/"+e.launchpadItem.address;window.open(h)}}return(r,h)=>{const c=L("van-tag");return o(),m("div",{class:"launch-pad-item",onClick:h[0]||(h[0]=s=>_())},[a("div",$e,[p(A,{class:"token-icon",tokenIcon:e.launchpadItem.icon?e.launchpadItem.icon:"error",chainIcon:d(de)(d(l).networks.find(s=>s.value==e.launchpadItem.chainId).name)},null,8,["tokenIcon","chainIcon"]),a("div",Se,[a("div",Ne,i(e.launchpadItem.tokenName),1),a("div",Ce,[e.launchpadItem.tags.indexOf("KYC")>-1?(o(),v(c,{key:0,class:"tag kyc",type:"primary"},{default:$(()=>[S("KYC")]),_:1})):I("",!0),e.launchpadItem.tags.indexOf("SAFU")>-1?(o(),v(c,{key:1,class:"tag safu",type:"primary"},{default:$(()=>[S("SAFU")]),_:1})):I("",!0),e.launchpadItem.tags.indexOf("Audit")>-1?(o(),v(c,{key:2,class:"tag audit",type:"primary"},{default:$(()=>[S("Audit")]),_:1})):I("",!0),e.launchpadItem.tags.indexOf("DOXX")>-1?(o(),v(c,{key:3,class:"tag doxx",type:"primary"},{default:$(()=>[S("DOXX")]),_:1})):I("",!0)])])]),a("div",Le,[a("div",be,[e.launchpadItem.status=="salelive"?(o(),m("span",Te,i(r.$t(e.launchpadItem.status))+"("+i(k.value)+"%)",1)):e.launchpadItem.status=="upcoming"?(o(),m("span",xe,i(r.$t(e.launchpadItem.status))+"("+i(k.value)+"%)",1)):e.launchpadItem.status=="ended"?(o(),m("span",Ae,i(r.$t(e.launchpadItem.status))+"("+i(k.value)+"%)",1)):e.launchpadItem.status=="canceled"?(o(),m("span",Ue,i(r.$t(e.launchpadItem.status))+"("+i(k.value)+"%)",1)):I("",!0)]),a("div",De,[e.launchpadItem.hardCap!==""&&e.launchpadItem.hardCap!=="0"?(o(),m("div",Be,i(d(P)(d(V).formatUnits(e.launchpadItem.softCap,e.launchpadItem.currencyDecimals)))+"~"+i(d(P)(d(V).formatUnits(e.launchpadItem.hardCap,e.launchpadItem.currencyDecimals)))+i(e.launchpadItem.currencySymbol),1)):(o(),m("div",Pe,i(d(P)(d(V).formatUnits(e.launchpadItem.softCap,e.launchpadItem.currencyDecimals)))+i(e.launchpadItem.currencySymbol),1))])]),a("div",Ve,[a("div",We,[e.launchpadItem.platform=="pinksale"?(o(),v(A,{key:0,class:"token-icon",tokenIcon:"/assets/images/pinkswap.png"})):e.launchpadItem.platform=="uncx"?(o(),v(A,{key:1,class:"token-icon",tokenIcon:"/assets/images/uncx.png"})):e.launchpadItem.platform=="dx"?(o(),v(A,{key:2,class:"token-icon",tokenIcon:"/assets/images/dx.jpg"})):I("",!0)]),a("div",ze,i(d(ue).unix(e.launchpadItem.startTime).format("YYYY-MM-DD")),1)])])}}},Oe=E(Fe,[["__scopeId","data-v-227bf050"]]);const je={class:"body launchpad"},Me={class:"top"},Ye={class:"tools-bar"},Xe={class:"left"},Re={class:"address-text"},He={style:{"margin-left":"4px"}},Ke={class:"tools"},qe={class:"search"},Ee={class:"select"},Ge={class:"launchpad-content"},Je={key:0,class:"list-title"},Qe={class:"title-item"},Ze={class:"arrow"},et={class:"title-item"},tt={class:"arrow"},at={class:"title-item"},st={class:"arrow"},nt={class:"text"},ot={key:0},lt={key:1},ct={class:"list-content"},it={__name:"Test",setup(z){const e=re(),l=J();pe();const{t:g}=me();he("reload");const w=C(""),k=C(!1),_=C(!1),r=C(!1),h=C(""),c=X({type:"",isAsc:!1}),s=X({page:1,pageSize:10,launchpadList:[],refreshing:!1,loading:!1,finished:!1,error:!1});h.value=R.get("launchpadShowType","block");async function Q(){await e.connectWallet()}function Z(){Ie({title:g("tips"),message:g("disonnectWallet"),confirmButtonText:g("confirm"),cancelButtonText:g("cancel")}).then(()=>{e.disconnectWallet()}).catch(()=>{})}function F(){h.value=="block"?s.pageSize=20:h.value=="list"&&(s.pageSize=40)}F();function O(t){t!=h.value&&(h.value=t,F(),R.set("launchpadShowType",t))}function ee(t){w.value=t,N()}function j(){_.value=!1,r.value=!1,k.value=!k.value,k.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function te(t){if(t.length===0){ke(g("selectNetworkWarn"));return}j(),l.checkedNetworks=t,N()}const ae=b(()=>l.networks.length===l.checkedNetworks.length?"allNetworks":g("networks",{num:l.checkedNetworks.length}));function M(){k.value=!1,r.value=!1,_.value=!_.value,_.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function se(t){M(),l.checkedPlatform=t,N()}const ne=b(()=>{var t;return(t=l.platforms.find(n=>n.value===l.checkedPlatform))==null?void 0:t.name});function U(t){t==c.type?c.isAsc?(c.type="",c.isAsc=!1):c.isAsc=!0:(c.type=t,c.isAsc=!1),N()}function Y(){k.value=!1,_.value=!1,r.value=!r.value,r.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function oe(t){Y(),l.checkedStatus=t,N()}const le=b(()=>l.statusList.find(t=>t.value===l.checkedStatus).name);G(()=>{D()});function N(){s.page=1,s.launchpadList=[],s.finished=!1,s.error=!1,D()}async function D(){s.loading=!0;let t=fe({duration:0});console.log(l.checkedNetworks.toString());let n="";w.value&&(n=w.value);let T="";l.checkedPlatform!=="all"&&(T=l.checkedPlatform);let x="";l.checkedStatus!=="all"&&(x=l.checkedStatus);try{let y=await ve.launchpad.getLaunchpadList(s.page,s.pageSize,n,l.checkedNetworks.toString(),T,x,c);if(console.log(y),y.data.status==0){for(let B of y.data.data.list)s.launchpadList.push(B);y.data.data.list.length<s.pageSize?s.finished=!0:s.page++}}catch(y){s.error=!0,console.log(y)}finally{t.close(),s.loading=!1,s.refreshing=!1}}return(t,n)=>{const T=L("van-image"),x=L("van-field"),y=L("van-empty"),B=L("van-list"),ce=L("van-pull-refresh");return o(),m("div",je,[a("div",Me,[a("div",Ye,[a("div",Xe,[a("div",{onClick:n[0]||(n[0]=u=>d(e).showSelectDapp=!0)},[p(f,{class:"icon",name:"menu"})]),d(e).isConnectWallet?(o(),m("div",{key:0,class:"address",onClick:Z},[d(e).chainIcon?(o(),v(T,{key:0,class:"chain-icon",round:"",src:d(e).chainIcon},null,8,["src"])):(o(),v(f,{key:1,class:"chain-icon",name:"wallet"})),a("div",Re,i(d(ge)(d(e).walletAddress)),1)])):(o(),m("div",{key:1,class:"address",onClick:Q},[p(f,{name:"wallet"}),a("div",He,i(t.$t("pleaseConnectWallet")),1)]))]),a("div",Ke,[p(f,{name:"language",onClick:n[1]||(n[1]=u=>d(e).showLanguagePicker=!0)})])]),a("div",qe,[p(x,{class:"search-input","left-icon":"search","onUpdate:modelValue":[ee,n[2]||(n[2]=u=>w.value=u)],modelValue:w.value,placeholder:t.$t("enterTokenName"),clearable:""},null,8,["modelValue","placeholder"])]),a("div",Ee,[p(_e,{onConfirm:te,onToggleSelect:j,show:k.value,option:d(l).networks,checked:d(l).checkedNetworks,showName:t.$t(ae.value)},null,8,["show","option","checked","showName"]),p(q,{onConfirm:se,onToggleSelect:M,show:_.value,option:d(l).platforms,checked:d(l).checkedPlatform,showName:t.$t(ne.value)},null,8,["show","option","checked","showName"]),p(q,{onConfirm:oe,onToggleSelect:Y,show:r.value,option:d(l).statusList,checked:d(l).checkedStatus,showName:t.$t(le.value)},null,8,["show","option","checked","showName"]),p(f,{name:h.value=="block"?"blockSelect":"block",class:"icon",onClick:n[3]||(n[3]=u=>O("block"))},null,8,["name"]),p(f,{name:h.value=="list"?"listSelect":"list",class:"icon",onClick:n[4]||(n[4]=u=>O("list"))},null,8,["name"])])]),a("div",Ge,[p(ce,{modelValue:s.refreshing,"onUpdate:modelValue":n[11]||(n[11]=u=>s.refreshing=u),onRefresh:N,"pulling-text":t.$t("pulling"),"loosing-text":t.$t("loosing"),"loading-text":t.$t("loading")},{default:$(()=>[h.value=="list"?(o(),m("div",Je,[a("div",Qe,[a("span",{onClick:n[5]||(n[5]=u=>U("tagNum"))},[S(i(t.$t("projectToken"))+"/"+i(t.$t("tags"))+" ",1),a("span",Ze,[p(f,{name:c.type=="tagNum"&&c.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),p(f,{name:c.type=="tagNum"&&!c.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),a("div",et,[a("span",{onClick:n[6]||(n[6]=u=>U("softcap"))},[S(i(t.$t("status"))+"/"+i(t.$t("softHard"))+" ",1),a("span",tt,[p(f,{name:c.type=="softcap"&&c.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),p(f,{name:c.type=="softcap"&&!c.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),a("div",at,[a("span",{onClick:n[7]||(n[7]=u=>U("startTime"))},[S(i(t.$t("platform1"))+"/"+i(t.$t("startTime"))+" ",1),a("span",st,[p(f,{name:c.type=="startTime"&&c.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),p(f,{name:c.type=="startTime"&&!c.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])])])):I("",!0),s.launchpadList.length==0?(o(),v(y,{key:1,class:"empty-box"},{image:$(()=>[p(f,{class:"icon",name:"emptyHistory"}),a("div",nt,i(t.$t("noRecord")),1)]),_:1})):(o(),v(B,{key:2,class:"launchpad-list",loading:s.loading,"onUpdate:loading":n[8]||(n[8]=u=>s.loading=u),"loading-text":t.$t("loading"),finished:s.finished,"error-text":t.$t("errorText"),"finished-text":t.$t("noMore"),error:s.error,"onUpdate:error":n[9]||(n[9]=u=>s.error=u),onLoad:n[10]||(n[10]=u=>D())},{default:$(()=>[h.value=="block"?(o(),m("div",ot,[(o(!0),m(H,null,K(s.launchpadList,u=>(o(),v(ye,{class:"launchpad-item",launchpadItem:u,key:u.address},null,8,["launchpadItem"]))),128))])):(o(),m("div",lt,[a("div",ct,[(o(!0),m(H,null,K(s.launchpadList,u=>(o(),v(Oe,{class:"launchpad-item",launchpadItem:u,key:u.address},null,8,["launchpadItem"]))),128))])]))]),_:1},8,["loading","loading-text","finished","error-text","finished-text","error"]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},ft=E(it,[["__scopeId","data-v-e7cf0ecf"]]);export{ft as default};
