import{_ as se,u as oe,f as ie,d as re,g,K as F,r as j,o as r,c as v,b as s,a as u,j as n,T as de,A as f,t as a,k as N,J as m,l as c,m as k,F as ue,q as I,n as O,s as i,z as ce,y as pe,v as B,N as me,O as fe}from"./index-be4bd9f5.js";import{B as b}from"./bignumber-3e8dfdf6.js";import{u as ve}from"./manage-a686e6bd.js";import{D as U}from"./Dialog-4990feff.js";import"./units-c9e15f7d.js";/* empty css                                                       */const ye=T=>(me("data-v-f39402af"),T=T(),fe(),T),ke={class:"manage"},we=ye(()=>s("div",{class:"top-background"},null,-1)),he={class:"top"},ge={class:"token-info"},be={class:"top-info"},Ce={class:"token-name"},$e={class:"token-symbol"},Ie={class:"token-address"},Te={class:"bottom-info"},_e={class:"small-title"},Le={key:0},Ae={key:1},Se={key:2},Fe={key:3},Oe={key:4},Be={class:"small-title"},We={class:"small-title"},Me={class:"total-supply"},Ee={class:"small-title"},je={key:0},Ne={key:1},Pe={key:0},Re={class:"small-title"},He={key:1},Ue={class:"small-title"},ze={key:0,class:"model-manage"},De={class:"title"},Ve={key:1,class:"trade-manage"},qe={class:"title"},Ke={class:"authority-manage"},Je={class:"title"},xe={class:"bottom-operate"},Ge={key:2,class:"bottom-operate",style:{marginTop:"12px",marginBottom:"20px"}},Qe={__name:"Index",setup(T){const z=window.ethereum.isMetaMask,{t:o}=oe(),w=ie(),C=re(),e=ve(),_=g(!1),L=g(!1),A=g(!1),p=F(()=>C.walletAddress.toLowerCase()===e.owner.toLowerCase()),P=F(()=>{if(e.deployerId==1)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyBurnFee);if(e.deployerId==2||e.deployerId==3)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee);if(e.deployerId==4)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.buyBurnFee)}),R=F(()=>{if(e.deployerId==1)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellBurnFee);if(e.deployerId==2||e.deployerId==3)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee);if(e.deployerId==4)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).plus(e.sellBurnFee)});let H=e.name;e.$subscribe((t,l)=>{l.name!=H&&(document.title=o("manageName",{name:l.name}),H=l.name)});const $=g(!1),W=g(!1),S=g(!1),M=g("");function D(){$.value=!0}const V=F(()=>o("operationHash",{hash:I(M.value)}));async function q(){W.value=!0;try{const t=await O.wallet.contract(e.tokenAddress,e.abi);let l=await t.renounceOwnership();M.value=l.hash,l.wait().then(async h=>{h.status===1&&(i({type:"success",message:o("upChainSuccessfully")}),e.owner=await t.owner())}),S.value=!0,$.value=!1}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{W.value=!1}}async function K(){try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e.tokenAddress,symbol:e.symbol,decimals:e.decimals,image:""}}})}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}}async function J(){if(!_.value&&p.value&&!e.tradeStart){_.value=!0;try{const t=await O.wallet.contract(e.tokenAddress,e.abi);let l;e.deployerId!=4?l=await t.startTrade():l=await t.launch(),await l.wait(),i({type:"success",message:o("tradeOpening")}),e.tradeStart=!0}catch(t){console.log(t.info),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{_.value=!1}}}async function x(){if(!C.isConnectWallet){i(o("pleaseConnectWallet"));return}if(!L.value){if(!p.value){i(o("notHolder"));return}if(e.enableSwapLimit){L.value=!0;try{await(await(await O.wallet.contract(e.tokenAddress,e.abi)).disableSwapLimit()).wait(),i(o("closeSwapLimit")),e.enableSwapLimit=!1,e.maxSwapAmount=0}catch(t){t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{L.value=!1}}}}async function G(){if(!C.isConnectWallet){i(o("pleaseConnectWallet"));return}if(!A.value){if(!p.value){i(o("notHolder"));return}if(e.enableWalletLimit){A.value=!0;try{await(await(await O.wallet.contract(e.tokenAddress,e.abi)).disableWalletLimit()).wait(),i(o("closeWalletLimit")),e.enableWalletLimit=!1,e.maxWalletAmount=0}catch(t){t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{A.value=!1}}}}function Q(){w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/mintToken")}function X(){p.value&&w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/whiteList")}function Y(){console.log(p.value),p.value&&w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/taxEditing")}function Z(){p.value&&w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editFundAddress")}function ee(){p.value&&w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editMaxSwapAmount")}function te(){p.value&&w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editMaxWalletAmount")}function ne(){w.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/transferOwnership")}function le(){window.open("https://m.jfliquidity.xyz/add?utm_source=ave.ai")}function ae(){w.push("/lockMaster")}return(t,l)=>{const h=j("van-button"),y=j("van-cell"),E=j("van-switch");return r(),v(ue,null,[s("div",ke,[we,s("div",he,[s("div",ge,[s("div",be,[u(de,{class:"token-icon",chainIcon:n(ce)(n(C).chain.toLowerCase()),tokenIcon:n(pe)(n(C).chain.toLowerCase(),n(e).tokenAddress.toLowerCase())},null,8,["chainIcon","tokenIcon"]),s("div",null,[s("div",Ce,[f(a(n(e).name),1),s("span",$e,a(n(e).symbol),1)]),s("div",Ie,[f(a(t.$t("tokenAddress"))+"ï¼š"+a(n(I)(n(e).tokenAddress))+" ",1),u(N,{class:"icon",name:"copy",onClick:l[0]||(l[0]=d=>n(B)(n(e).tokenAddress))})])])]),s("div",Te,[s("div",null,[s("div",_e,a(t.$t("template")),1),s("div",null,[n(e).deployerId==0?(r(),v("span",Le,a(t.$t("freeTax")),1)):n(e).deployerId==1?(r(),v("span",Ae,a(t.$t("feeToken")),1)):n(e).deployerId==2?(r(),v("span",Se,a(t.$t("selfDividendToken")),1)):n(e).deployerId==3?(r(),v("span",Fe,a(t.$t("addPoolDividend")),1)):n(e).deployerId==4?(r(),v("span",Oe,a(t.$t("dividendToken")),1)):m("",!0)])]),s("div",null,[s("div",Be,a(t.$t("managerAddress")),1),s("div",null,[f(a(n(I)(n(e).owner)),1),u(N,{class:"icon",name:"copy",onClick:l[1]||(l[1]=d=>n(B)(n(e).tokenAddress))})])]),s("div",null,[s("div",We,a(t.$t("totalSupply")),1),s("div",Me,a(n(e).totalSupply),1)]),s("div",null,[s("div",Ee,a(t.$t("tax")),1),s("div",null,[n(e).deployerId==0?(r(),v("span",je,a(t.$t("freeTax")),1)):(r(),v("span",Ne,a(t.$t("buy"))+" "+a(P.value)+"% "+a(t.$t("sell"))+" "+a(R.value)+"%",1))])]),n(e).deployerId==3||n(e).deployerId==4?(r(),v("div",Pe,[s("div",Re,a(t.$t("fundAddress")),1),s("div",null,[f(a(n(I)(n(e).rewardToken)),1),u(N,{class:"icon",name:"copy",onClick:l[2]||(l[2]=d=>n(B)(n(e).rewardToken))})])])):m("",!0),n(e).deployerId==3||n(e).deployerId==4?(r(),v("div",He,[s("div",Ue,a(t.$t("fundAddressName")),1),s("div",null,a(n(e).rewardTokenName)+" ("+a(n(e).rewardTokenSymbol)+")",1)])):m("",!0)])])]),n(e).canMint?(r(),v("div",ze,[s("div",De,a(t.$t("economicManagement")),1),u(y,{class:"cell"},{title:c(()=>[f(a(t.$t("published"))+" "+a(n(e).totalSupply),1)]),extra:c(()=>[u(h,{class:"btn",type:"primary",round:"",size:"mini",onClick:l[3]||(l[3]=d=>Q()),disabled:!p.value},{default:c(()=>[f(a(t.$t("mint")),1)]),_:1},8,["disabled"])]),_:1})])):m("",!0),n(e).deployerId!=0&&(n(e).enableManualStartTrade||n(e).enableChangeTax||n(e).enableWhiteList)?(r(),v("div",Ve,[s("div",qe,a(t.$t("tradeManage")),1),n(e).deployerId!=0&&n(e).enableManualStartTrade?(r(),k(y,{key:0,class:"cell",title:t.$t("openTrade")},{extra:c(()=>[u(E,{class:"switch","model-value":n(e).tradeStart,loading:_.value,onClick:l[4]||(l[4]=d=>J()),disabled:n(e).tradeStart||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0&&n(e).enableKillBlock?(r(),k(y,{key:1,class:"cell killBlock",title:t.$t("autoKillBlockNum")},{extra:c(()=>[f(a(n(e).killBlock),1)]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0&&n(e).enableChangeTax?(r(),k(y,{key:2,title:t.$t("taxEdit"),"is-link":"",onClick:l[5]||(l[5]=d=>Y())},{value:c(()=>[f(a(t.$t("buy"))+" "+a(P.value)+"% "+a(t.$t("sell"))+" "+a(R.value)+"% ",1)]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0&&n(e).enableWhiteList?(r(),k(y,{key:3,title:t.$t("whiteList"),"is-link":"",value:n(e).deployerId!=4?n(e).whiteListCount:"",onClick:l[6]||(l[6]=d=>X())},null,8,["title","value"])):m("",!0),n(e).deployerId!=0?(r(),k(y,{key:4,class:"cell",title:t.$t("swapLimit")},{extra:c(()=>[u(E,{class:"switch","model-value":n(e).enableSwapLimit,loading:L.value,onClick:l[7]||(l[7]=d=>x()),disabled:!n(e).enableSwapLimit||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0&&n(e).enableSwapLimit?(r(),k(y,{key:5,title:t.$t("swapAmount"),"is-link":"",onClick:l[8]||(l[8]=d=>ee())},{value:c(()=>[s("span",null,a(n(e).maxSwapAmount),1)]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0?(r(),k(y,{key:6,class:"cell",title:t.$t("walletLimit")},{extra:c(()=>[u(E,{class:"switch","model-value":n(e).enableWalletLimit,loading:A.value,onClick:l[9]||(l[9]=d=>G()),disabled:!n(e).enableWalletLimit||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0&&n(e).enableWalletLimit?(r(),k(y,{key:7,title:t.$t("walletAmount"),"is-link":"",onClick:l[10]||(l[10]=d=>te())},{value:c(()=>[f(a(n(e).maxWalletAmount),1)]),_:1},8,["title"])):m("",!0),n(e).deployerId!=0?(r(),k(y,{key:8,title:t.$t("marketingAddress"),"is-link":"",onClick:l[11]||(l[11]=d=>Z())},{value:c(()=>[s("div",null,a(n(I)(n(e).fundAddress)),1)]),_:1},8,["title"])):m("",!0)])):m("",!0),s("div",Ke,[s("div",Je,a(t.$t("authorityManagement")),1),u(y,{class:"cell",title:t.$t("contractOwnership")},{extra:c(()=>[u(h,{class:"btn",type:"primary",round:"",size:"mini",onClick:D,disabled:!p.value},{default:c(()=>[f(a(t.$t("renounce")),1)]),_:1},8,["disabled"])]),_:1},8,["title"]),u(y,{class:"cell",title:t.$t("transferOwnership")},{extra:c(()=>[u(h,{class:"btn",type:"primary",round:"",size:"mini",onClick:ne,disabled:!p.value},{default:c(()=>[f(a(t.$t("transfer")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])]),s("div",xe,[u(h,{type:"primary",class:"manage-btn",onClick:le},{default:c(()=>[f(a(t.$t("LPAddOrManage")),1)]),_:1}),u(h,{type:"primary",class:"lock-btn",onClick:ae},{default:c(()=>[f(a(t.$t("lockToken")),1)]),_:1})]),n(z)?(r(),v("div",Ge,[u(h,{type:"primary",block:"",onClick:K},{default:c(()=>[f(a(t.$t("importToWallet")),1)]),_:1})])):m("",!0)]),u(U,{show:$.value,"onUpdate:show":l[12]||(l[12]=d=>$.value=d),title:t.$t("giveUpConfirm"),message:t.$t("giveUpConfirmInfo"),cancelButtonText:t.$t("thinkAgain"),confirmButtonText:t.$t("confirmAndGiveUp"),confirmButtonLoading:W.value,onOnConfirm:q,onOnCancel:l[13]||(l[13]=d=>$.value=!1)},null,8,["show","title","message","cancelButtonText","confirmButtonText","confirmButtonLoading"]),u(U,{show:S.value,"onUpdate:show":l[14]||(l[14]=d=>S.value=d),title:t.$t("giveUpSuccesslly"),message:V.value,showCancelButton:!1,confirmButtonText:t.$t("copyHash"),onOnConfirm:l[15]||(l[15]=d=>n(B)(M.value)),onOnCancel:l[16]||(l[16]=d=>S.value=!1)},null,8,["show","title","message","confirmButtonText"])],64)}}},lt=se(Qe,[["__scopeId","data-v-f39402af"]]);export{lt as default};
