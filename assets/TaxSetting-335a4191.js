import{D as Q}from"./DropDown-9f814d07.js";import{_ as z,u as M,d as W,g as x,J as Z,K as S,n as j,s as b,r as F,o as f,m as B,l as d,a as n,b as r,c as $,x as ee,T as te,t as v,j as s,I as T,F as O,y as X,q as se,f as ne,A as q,L as Y}from"./index-d1e61d08.js";import{u as G}from"./create-5771f766.js";import{B as p}from"./bignumber-3e8dfdf6.js";import{R as L}from"./Rate-d0c58a8b.js";/* empty css                                                       */const le={class:"chain-swap"},oe=["onClick"],re={class:"left"},ue={class:"swap-name"},ie={class:"right"},de={__name:"ChainSwaps",props:{showChainSwap:Boolean},emits:["update:showChainSwap"],setup(U,{emit:A}){const k=U,{t:N}=M(),P=W(),e=G(),h=x(""),w=x([]);Z(()=>k.showChainSwap,(y,o)=>{y&&w.value.length==0&&R()}),R();const I=S(()=>h.value?w.value.filter(y=>y.showName.toLowerCase().indexOf(h.value.toLocaleLowerCase())!=-1):w.value);async function R(){w.value=[];let y=P.chain;if(y=="bsc_test")w.value=[{chain:"bsc",factoryAddress:"0x6725F303b657a9451d8BA641348b6761A6CC7a17",isSwapSupported:1,name:"cakev2",routerAddress:"0xd99d1c33f9fc3444f8101754abc46c52416550d1",showName:"PancakeSwapV2",sortId:1,swapUrl:"https://pancakeswap.finance/swap?inputCurrency=BNB&outputCurrency=",swapIcon:"https://www.avestorage.cloud/swap/cakev2.jpeg"}];else try{let o=await j.ave.getChainSwaps(y);if(o.data.status==1){let c=o.data.data;if(c&&c.length>0)for(let i of c){let g="https://www.avestorage.cloud/swap/"+i.name+".jpeg",m={chain:i.chain,factoryAddress:i.factory_address.toLowerCase(),isSwapSupported:i.is_swap_supported,name:i.name,routerAddress:i.router_address.toLowerCase(),showName:i.show_name,sortId:i.sort_id,swapUrl:i.swap_url,swapIcon:g};w.value.push(m)}console.log(w.value)}else b(N("unknowError"))}catch(o){o&&o.message?b(o.message):b(N("unknowError"))}finally{}}function V(y){e.chainSwap=y,A("update:showChainSwap",!1)}return(y,o)=>{const c=F("van-search"),i=F("van-icon"),g=F("van-action-sheet");return f(),B(g,{show:U.showChainSwap,"safe-area-inset-bottom":"",title:y.$t("selectSwap"),onClose:o[1]||(o[1]=m=>A("update:showChainSwap",!1)),onCancel:o[2]||(o[2]=m=>A("update:showChainSwap",!1))},{default:d(()=>[n(c,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=m=>h.value=m),shape:"round",placeholder:y.$t("search"),clearable:""},null,8,["modelValue","placeholder"]),r("ul",le,[(f(!0),$(O,null,ee(I.value,m=>(f(),$("li",{class:"swap-item",onClick:t=>V(m)},[r("div",re,[n(te,{class:"token-icon",tokenIcon:m.swapIcon},null,8,["tokenIcon"]),r("div",ue,v(m.showName),1)]),r("div",ie,[s(e).chainSwap&&s(e).chainSwap.factoryAddress==m.factoryAddress?(f(),B(i,{key:0,name:"success",color:"#3F80F7"})):T("",!0)])],8,oe))),256))])]),_:1},8,["show","title"])}}},ce=z(de,[["__scopeId","data-v-16828252"]]);const pe={class:"token-list"},ve=["onClick"],me={class:"left"},we={class:"token-info"},fe={class:"token-name"},ye={class:"token-address"},ke={class:"right"},he={key:0,class:"amount"},_e={class:"price"},be={class:"icon"},Fe={__name:"TokenList",props:{showTokenList:Boolean},emits:["update:showTokenList"],setup(U,{emit:A}){const k=U,{t:N}=M(),P=W(),e=G(),h=x(""),w=x([]);Z(()=>k.showTokenList,(o,c)=>{o&&w.value.length==0&&V()}),V();const I=S(()=>h.value?h.value.startsWith("0x")?w.value.filter(o=>o.address.toLowerCase()==h.value.toLowerCase()):w.value.filter(o=>o.symbol.toLowerCase().indexOf(h.value.toLowerCase())>-1):w.value);function R(o){e.token=o,A("update:showTokenList",!1)}async function V(){let o=P.chain,c=[];if(o=="bsc_test")c=[{chain:"bsc",demical:18,name:"",symbol:"BNB",tokenAddress:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",currentPriceUsd:289.85489812433093,value:.0319133884,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee.png"},{chain:"bsc",demical:18,name:"Binance-Peg BSC-USD",symbol:"USDT",tokenAddress:"0x337610d27c682E347C9cD60BD4b3b107C9d34dDd",currentPriceUsd:.9970705187821386,value:0,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0x55d398326f99059ff775485246999027b3197955.png"},{chain:"bsc",demical:18,name:"Wrapped BNB",symbol:"WBNB",tokenAddress:"0xae13d989dac2f0debff460ac112a837c89baa7cd",currentPriceUsd:289.85489812433093,value:0,icon:"https://ave.s3.ap-east-1.amazonaws.com/token_icon/bsc/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png"}];else try{let i=await j.ave.getUserToken(o,P.walletAddress);if(console.log(i),i.data.status==1){let m=i.data.data.filter(t=>new RegExp("^0x.*$","gi").test(t.token)&&t.value>0&&t.risk_score<60&&t.risk_level>=0&&t.flag!=="blacklist"&&t.symbol!==""&&t.flag!=="lp"&&t.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(t=>({chain:t.chain,demical:t.decimals,name:t.name,symbol:t.symbol,tokenAddress:t.token.toLowerCase(),currentPriceUsd:t.current_price_usd,value:t.value,icon:X(t.chain.toLowerCase(),t.token.toLowerCase())}));c=c.concat(m)}else return;let g=await j.ave.getSwapTokens(o);if(console.log(g),g.data.status==1){let m=g.data.data.filter(t=>new RegExp("^0x.*$","gi").test(t.token)&&c.findIndex(D=>D.tokenAddress==t.token)==-1&&t.risk_score<60&&t.risk_level>=0&&t.flag!=="blacklist"&&t.symbol!==""&&t.flag!=="lp"&&t.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(t=>({chain:t.chain,demical:t.decimals,name:t.name,symbol:t.symbol,tokenAddress:t.token.toLowerCase(),currentPriceUsd:t.current_price_usd,value:t.value,icon:X(t.chain.toLowerCase(),t.token.toLowerCase())}));c=c.concat(m)}else return}catch(i){i&&i.message?b(i.message):b(N("unknowError")),c=[]}finally{}w.value=c}function y(){A("update:showTokenList",!1)}return(o,c)=>{const i=F("van-search"),g=F("van-icon"),m=F("van-action-sheet");return f(),B(m,{show:U.showTokenList,"safe-area-inset-bottom":"",title:o.$t("selectCurrency"),onClose:y,onCancel:y},{default:d(()=>[n(i,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=t=>h.value=t),shape:"round",placeholder:o.$t("searchTokenOrName"),clearable:""},null,8,["modelValue","placeholder"]),r("ul",pe,[(f(!0),$(O,null,ee(I.value,t=>(f(),$("li",{class:"token-item",onClick:D=>R(t)},[r("div",me,[n(te,{class:"token-icon",tokenIcon:t.icon},null,8,["tokenIcon"]),r("div",we,[r("div",fe,v(t.symbol),1),r("div",ye,v(s(se)(t.tokenAddress)),1)])]),r("div",ke,[t.value>0?(f(),$("div",he,[r("div",null,v(s(p)(t.value).toString().indexOf(".")==-1?s(p)(t.value):s(p)(t.value).toFixed(6)),1),r("div",_e,"$"+v(s(p)(t.value).multipliedBy(t.currentPriceUsd).toFixed(2)),1)])):T("",!0),r("div",be,[s(e).token&&s(e).token.tokenAddress==t.tokenAddress?(f(),B(g,{key:0,name:"success",color:"#3F80F7"})):T("",!0)])])],8,ve))),256))])]),_:1},8,["show","title"])}}},ge=z(Fe,[["__scopeId","data-v-88de781c"]]);const Ce={class:"setting"},Se={class:"explain"},Te={style:{color:"#999"}},Ie={class:"rate-setting"},$e={class:"title"},Le={class:"rate-setting"},xe={class:"title"},Be={class:"address-setting"},Ae={class:"title"},Ne={class:"explain"},Pe={class:"btn-control-group"},Ue={class:"content"},Re={key:0},Ve={key:1},_=20,Ee={__name:"TaxSetting",props:{createTokenLoading:Boolean},emits:["createTokenClick","nextStepClick"],setup(U,{emit:A}){const{t:k}=M(),N=ne(),P=W(),e=G(),h=x(!1),w=x(!1),I=x(!1);x(!1);const R=S(()=>e.deployerId==1?p(_).minus(e.buyBurnFee).minus(e.buyLPFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.buyRewardFee).minus(e.buyLPFee).toNumber():0),V=S(()=>e.deployerId==1?p(_).minus(e.buyFundFee).minus(e.buyBurnFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.buyFundFee).minus(e.buyRewardFee).toNumber():0),y=S(()=>{if(e.deployerId==1)return p(_).minus(e.buyFundFee).minus(e.buyLPFee).toNumber()}),o=S(()=>e.deployerId==2||e.deployerId==3?p(_).minus(e.buyFundFee).minus(e.buyLPFee).toNumber():0),c=S(()=>e.deployerId==1?p(_).minus(e.sellBurnFee).minus(e.sellLPFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.sellRewardFee).minus(e.sellLPFee).toNumber():0),i=S(()=>e.deployerId==1?p(_).minus(e.sellFundFee).minus(e.sellBurnFee).toNumber():e.deployerId==2||e.deployerId==3?p(_).minus(e.sellFundFee).minus(e.sellRewardFee).toNumber():0),g=S(()=>e.deployerId==1?p(_).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0),m=S(()=>e.deployerId==2||e.deployerId==3?p(_).minus(e.sellFundFee).minus(e.sellLPFee).toNumber():0);function t(){e.step=0,N.push("/createToken/create/detail")}function D(){const l=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;if(e.deployerId===1||e.deployerId==2||e.deployerId==3){if(!e.token){b(k("pleaseSelectCurrency"));return}if(!e.chainSwap){b(k("pleaseSelectSwap"));return}if(e.deployerId===1){if(p(e.buyFundFee).plus(e.buyBurnFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellBurnFee).plus(e.sellLPFee).lte(0)){b(k("taxMustGt0"));return}}else if(e.deployerId===2){if(p(e.buyFundFee).plus(e.buyLPFee).plus(e.sellFundFee).plus(e.sellLPFee).lte(0)){b(k("taxlimit2"));return}}else if(e.deployerId===3){if(!e.rewardToken){b(k("dividendTokenError"));return}if(!l.test(e.rewardToken)){b(k("pleaseEnterTrueAddress"));return}if(p(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).lte(0)){b(k("taxMustGt0"));return}}if((Number(e.buyFundFee)>0||Number(e.sellFundFee)>0)&&!e.fundAddress){b(k("pleaseEnterMarketingAddress"));return}if(e.fundAddress&&!l.test(e.fundAddress)){b(k("pleaseEnterTrueAddress"));return}}e.step=2,N.push("/createToken/create/IssueControl")}return(l,a)=>{const C=F("van-cell"),E=F("van-cell-group"),J=F("van-field"),K=F("van-icon"),H=F("van-button"),ae=F("van-dialog");return f(),$(O,null,[r("div",Ce,[n(E,{inset:""},{default:d(()=>[n(C,{title:l.$t("selectCurrency"),class:"switch-cell",onClick:a[0]||(a[0]=u=>w.value=!0)},Y({_:2},[s(e).token?{name:"value",fn:d(()=>[n(Q,{logo:s(e).token.icon,value:s(e).token.symbol},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:d(()=>[r("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),r("div",Se,v(l.$t("currencyExplain")),1),n(E,{inset:""},{default:d(()=>[n(C,{title:l.$t("selectSwap"),class:"switch-cell",onClick:a[1]||(a[1]=u=>h.value=!0)},Y({_:2},[s(e).chainSwap?{name:"value",fn:d(()=>[n(Q,{logo:s(e).chainSwap.swapIcon,value:s(e).chainSwap.showName},null,8,["logo","value"])]),key:"0"}:{name:"value",fn:d(()=>[r("div",null,"---")]),key:"1"}]),1032,["title"])]),_:1}),s(e).deployerId===3?(f(),$(O,{key:0},[n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(J,{modelValue:s(e).rewardToken,"onUpdate:modelValue":a[2]||(a[2]=u=>s(e).rewardToken=u),"label-width":"8em",label:l.$t("rewardToken"),placeholder:l.$t("enterContract"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[r("div",Te,v(l.$t("rewardTokenInfo",{chainToken:s(P).chainCoinSymbol})),1)]),_:1})],64)):T("",!0),r("div",Ie,[r("div",$e,[q(v(s(k)("buyTax",{max:_})),1),n(K,{class:"question-icon",name:"question-o",onClick:a[3]||(a[3]=u=>I.value=!0)})]),n(C,{class:"rate-cell",title:l.$t("marketingTax")},{extra:d(()=>[n(L,{value:s(e).buyFundFee,"onUpdate:value":a[4]||(a[4]=u=>s(e).buyFundFee=u),"max-value":R.value},null,8,["value","max-value"])]),_:1},8,["title"]),n(C,{class:"rate-cell",title:l.$t("liquidityTax")},{extra:d(()=>[n(L,{value:s(e).buyLPFee,"onUpdate:value":a[5]||(a[5]=u=>s(e).buyLPFee=u),"max-value":V.value},null,8,["value","max-value"])]),_:1},8,["title"]),s(e).deployerId==1?(f(),B(C,{key:0,class:"rate-cell",title:l.$t("burnTax")},{extra:d(()=>[n(L,{value:s(e).buyBurnFee,"onUpdate:value":a[6]||(a[6]=u=>s(e).buyBurnFee=u),"max-value":y.value},null,8,["value","max-value"])]),_:1},8,["title"])):T("",!0),s(e).deployerId==2||s(e).deployerId==3?(f(),B(C,{key:1,class:"rate-cell",title:l.$t("rewardTax")},{extra:d(()=>[n(L,{value:s(e).buyRewardFee,"onUpdate:value":a[7]||(a[7]=u=>s(e).buyRewardFee=u),"max-value":o.value},null,8,["value","max-value"])]),_:1},8,["title"])):T("",!0)]),r("div",Le,[r("div",xe,[q(v(s(k)("sellTax",{max:_})),1),n(K,{class:"question-icon",name:"question-o",onClick:a[8]||(a[8]=u=>I.value=!0)})]),n(C,{class:"rate-cell",title:l.$t("marketingTax")},{extra:d(()=>[n(L,{value:s(e).sellFundFee,"onUpdate:value":a[9]||(a[9]=u=>s(e).sellFundFee=u),"max-value":c.value},null,8,["value","max-value"])]),_:1},8,["title"]),n(C,{class:"rate-cell",title:l.$t("liquidityTax")},{extra:d(()=>[n(L,{value:s(e).sellLPFee,"onUpdate:value":a[10]||(a[10]=u=>s(e).sellLPFee=u),"max-value":i.value},null,8,["value","max-value"])]),_:1},8,["title"]),s(e).deployerId==1?(f(),B(C,{key:0,class:"rate-cell",title:l.$t("burnTax")},{extra:d(()=>[n(L,{value:s(e).sellBurnFee,"onUpdate:value":a[11]||(a[11]=u=>s(e).sellBurnFee=u),"max-value":g.value},null,8,["value","max-value"])]),_:1},8,["title"])):T("",!0),s(e).deployerId==2||s(e).deployerId==3?(f(),B(C,{key:1,class:"rate-cell",title:l.$t("rewardTax")},{extra:d(()=>[n(L,{value:s(e).sellRewardFee,"onUpdate:value":a[12]||(a[12]=u=>s(e).sellRewardFee=u),"max-value":m.value},null,8,["value","max-value"])]),_:1},8,["title"])):T("",!0)]),r("div",Be,[r("div",Ae,v(l.$t("addressSetting")),1),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(C,{title:l.$t("ownerAddr"),class:"switch-cell",value:s(se)(s(P).walletAddress)},null,8,["title","value"])]),_:1}),n(E,{inset:"",class:"rate-cell"},{default:d(()=>[n(J,{modelValue:s(e).fundAddress,"onUpdate:modelValue":a[13]||(a[13]=u=>s(e).fundAddress=u),"label-width":"10em",label:l.$t("marketingAddress"),placeholder:l.$t("enterAddress"),"input-align":"right"},null,8,["modelValue","label","placeholder"])]),_:1}),r("div",Ne,v(l.$t("marketAddressExplain")),1)]),r("div",Pe,[n(H,{type:"primary",plain:"",round:"",block:"",class:"btn-control",onClick:t},{default:d(()=>[q(v(l.$t("previousStep")),1)]),_:1}),n(H,{type:"primary",round:"",block:"",class:"btn-control",onClick:D},{default:d(()=>[q(v(l.$t("nextStep")),1)]),_:1})])]),n(ae,{class:"tax-instruction",show:I.value,"onUpdate:show":a[14]||(a[14]=u=>I.value=u),title:l.$t("taxInstruction"),showCancelButton:!1,confirmButtonText:l.$t("understand"),onConfirm:a[15]||(a[15]=u=>I.value=!1),"close-on-click-overlay":""},{default:d(()=>[r("div",Ue,[r("div",null,v(l.$t("taxInstructionText1")),1),r("div",null,v(l.$t("taxInstructionText2")),1),r("div",null,v(l.$t("taxInstructionText3")),1),s(e).deployerId==1?(f(),$("div",Re,v(l.$t("taxInstructionText4")),1)):T("",!0),s(e).deployerId==2||s(e).deployerId==3?(f(),$("div",Ve,v(l.$t("taxInstructionText5")),1)):T("",!0),r("div",null,v(l.$t("taxInstructionText6")),1)])]),_:1},8,["show","title","confirmButtonText"]),n(ge,{showTokenList:w.value,"onUpdate:showTokenList":a[16]||(a[16]=u=>w.value=u)},null,8,["showTokenList"]),n(ce,{showChainSwap:h.value,"onUpdate:showChainSwap":a[17]||(a[17]=u=>h.value=u)},null,8,["showChainSwap"])],64)}}},We=z(Ee,[["__scopeId","data-v-8a80229e"]]);export{We as default};
