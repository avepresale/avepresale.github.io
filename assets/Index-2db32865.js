import{_ as Y,u as Z,f as ee,d as te,g,K as _,r as A,o as p,c as k,b as a,a as l,j as s,T as se,A as u,t as o,k as E,l as i,J as y,m as T,F as ne,q as F,n as P,s as c,z as oe,y as ae,v as S,N as le,O as re}from"./index-fb50c59b.js";import{B as I}from"./bignumber-3e8dfdf6.js";import{u as ie}from"./manage-697450f8.js";import{D as R}from"./Dialog-a4f49cc0.js";import"./units-9528252a.js";/* empty css                                                       */const de=b=>(le("data-v-8208b7f7"),b=b(),re(),b),ue={class:"manage"},ce=de(()=>a("div",{class:"top-background"},null,-1)),pe={class:"top"},me={class:"token-info"},fe={class:"top-info"},ve={class:"token-name"},ye={class:"token-symbol"},ke={class:"token-address"},he={class:"bottom-info"},we={class:"total-supply"},ge={class:"small-title"},be={key:0},Ce={key:1},$e={class:"small-title"},_e={class:"small-title"},Te={key:0,class:"model-manage"},Ie={class:"title"},Oe={key:1,class:"trade-manage"},Be={class:"title"},Le={class:"authority-manage"},Ae={class:"title"},Fe={class:"bottom-operate"},Se={key:2,class:"bottom-operate",style:{marginTop:"12px",marginBottom:"20px"}},Me={__name:"Index",setup(b){const U=window.ethereum.isMetaMask,{t:r}=Z(),h=ee(),O=te(),e=ie(),C=g(!1),m=_(()=>O.walletAddress.toLowerCase()===e.owner.toLowerCase()),M=_(()=>{if(e.deployerId==1)return I(e.buyFundFee).plus(e.buyLPFee).plus(e.buyBurnFee);if(e.deployerId==2||e.deployerId==3)return I(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee)}),N=_(()=>{if(e.deployerId==1)return I(e.sellFundFee).plus(e.sellLPFee).plus(e.sellBurnFee);if(e.deployerId==2||e.deployerId==3)return I(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee)});let j=e.name;e.$subscribe((t,n)=>{n.name!=j&&(document.title=r("manageName",{name:n.name}),j=n.name)});const w=g(!1),B=g(!1),$=g(!1),L=g("");function z(){w.value=!0}const W=_(()=>r("operationHash",{hash:F(L.value)}));async function H(){B.value=!0;try{const t=await P.wallet.contract(e.tokenAddress,e.abi);let n=await t.renounceOwnership();L.value=n.hash,n.wait().then(async f=>{f.status===1&&(c({type:"success",message:r("upChainSuccessfully")}),e.owner=await t.owner())}),$.value=!0,w.value=!1}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?c(r("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?c(r("userCancelOperate")):c(r("unkonwError"))}finally{B.value=!1}}async function V(){try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e.tokenAddress,symbol:e.symbol,decimals:e.decimals,image:""}}})}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?c(r("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?c(r("userCancelOperate")):c(r("unkonwError"))}}async function q(){if(!C.value&&m.value&&!e.tradeStart){C.value=!0;try{await(await(await P.wallet.contract(e.tokenAddress,e.abi)).startTrade()).wait(),c({type:"success",message:r("tradeOpening")}),e.tradeStart=!0}catch(t){console.log(t.info),t.info&&t.info.error&&t.info.error.code===4001?c(r("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?c(r("userCancelOperate")):c(r("unkonwError"))}finally{C.value=!1}}}function D(){h.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/mintToken")}function K(){m.value&&h.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/whiteList")}function J(){console.log(m.value),m.value&&h.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/taxEditing")}function x(){h.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/transferOwnership")}function G(){window.open("https://m.jfliquidity.xyz/add?utm_source=ave.ai")}function Q(){h.push("/lockMaster")}return(t,n)=>{const f=A("van-button"),v=A("van-cell"),X=A("van-switch");return p(),k(ne,null,[a("div",ue,[ce,a("div",pe,[a("div",me,[a("div",fe,[l(se,{class:"token-icon",chainIcon:s(oe)(s(O).chain.toLowerCase()),tokenIcon:s(ae)(s(O).chain.toLowerCase(),s(e).tokenAddress.toLowerCase())},null,8,["chainIcon","tokenIcon"]),a("div",null,[a("div",ve,[u(o(s(e).name),1),a("span",ye,o(s(e).symbol),1)]),a("div",ke,[u(o(t.$t("tokenAddress"))+"ï¼š"+o(s(F)(s(e).tokenAddress))+" ",1),l(E,{class:"icon",name:"copy",onClick:n[0]||(n[0]=d=>s(S)(s(e).tokenAddress))})])])]),a("div",he,[a("div",null,[a("div",we,o(s(e).totalSupply),1),a("div",ge,o(t.$t("totalSupply")),1)]),a("div",null,[a("div",null,[s(e).deployerId==0?(p(),k("span",be,o(t.$t("freeTax")),1)):(p(),k("span",Ce,o(t.$t("buy"))+o(M.value)+"% "+o(t.$t("sell"))+o(N.value)+"%",1))]),a("div",$e,o(t.$t("tax")),1)]),a("div",null,[a("div",null,[u(o(s(F)(s(e).owner)),1),l(E,{class:"icon",name:"copy",onClick:n[1]||(n[1]=d=>s(S)(s(e).tokenAddress))})]),a("div",_e,o(t.$t("managerAddress")),1)])])])]),s(e).canMint?(p(),k("div",Te,[a("div",Ie,o(t.$t("economicManagement")),1),l(v,{class:"cell"},{title:i(()=>[u(o(t.$t("published"))+" "+o(s(e).totalSupply),1)]),extra:i(()=>[l(f,{class:"btn",type:"primary",round:"",size:"mini",onClick:n[2]||(n[2]=d=>D()),disabled:!m.value},{default:i(()=>[u(o(t.$t("mint")),1)]),_:1},8,["disabled"])]),_:1})])):y("",!0),s(e).deployerId!=0&&(s(e).enableManualStartTrade||s(e).enableChangeTax||s(e).enableWhiteList)?(p(),k("div",Oe,[a("div",Be,o(t.$t("tradeManage")),1),s(e).deployerId!=0&&s(e).enableManualStartTrade?(p(),T(v,{key:0,class:"cell",title:t.$t("openTrade")},{extra:i(()=>[l(X,{class:"switch","model-value":s(e).tradeStart,loading:C.value,onClick:n[3]||(n[3]=d=>q()),disabled:s(e).tradeStart||!m.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"])):y("",!0),s(e).deployerId!=0&&s(e).enableKillBlock?(p(),T(v,{key:1,class:"cell killBlock",title:t.$t("autoKillBlockNum")},{extra:i(()=>[u(o(s(e).killBlock),1)]),_:1},8,["title"])):y("",!0),s(e).deployerId!=0&&s(e).enableChangeTax?(p(),T(v,{key:2,title:t.$t("taxEdit"),"is-link":"",onClick:n[4]||(n[4]=d=>J())},{value:i(()=>[u(o(t.$t("buy"))+o(M.value)+"% "+o(t.$t("sell"))+o(N.value)+"% ",1)]),_:1},8,["title"])):y("",!0),s(e).deployerId!=0&&s(e).enableWhiteList?(p(),T(v,{key:3,title:t.$t("whiteList"),"is-link":"",value:s(e).whiteListCount,onClick:n[5]||(n[5]=d=>K())},null,8,["title","value"])):y("",!0)])):y("",!0),a("div",Le,[a("div",Ae,o(t.$t("authorityManagement")),1),l(v,{class:"cell",title:t.$t("contractOwnership")},{extra:i(()=>[l(f,{class:"btn",type:"primary",round:"",size:"mini",onClick:z,disabled:!m.value},{default:i(()=>[u(o(t.$t("renounce")),1)]),_:1},8,["disabled"])]),_:1},8,["title"]),l(v,{class:"cell",title:t.$t("transferOwnership")},{extra:i(()=>[l(f,{class:"btn",type:"primary",round:"",size:"mini",onClick:x,disabled:!m.value},{default:i(()=>[u(o(t.$t("transfer")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])]),a("div",Fe,[l(f,{type:"primary",class:"manage-btn",onClick:G},{default:i(()=>[u(o(t.$t("LPAddOrManage")),1)]),_:1}),l(f,{type:"primary",class:"lock-btn",onClick:Q},{default:i(()=>[u(o(t.$t("lockToken")),1)]),_:1})]),s(U)?(p(),k("div",Se,[l(f,{type:"primary",block:"",onClick:V},{default:i(()=>[u(o(t.$t("importToWallet")),1)]),_:1})])):y("",!0)]),l(R,{show:w.value,"onUpdate:show":n[6]||(n[6]=d=>w.value=d),title:t.$t("giveUpConfirm"),message:t.$t("giveUpConfirmInfo"),cancelButtonText:t.$t("thinkAgain"),confirmButtonText:t.$t("confirmAndGiveUp"),confirmButtonLoading:B.value,onOnConfirm:H,onOnCancel:n[7]||(n[7]=d=>w.value=!1)},null,8,["show","title","message","cancelButtonText","confirmButtonText","confirmButtonLoading"]),l(R,{show:$.value,"onUpdate:show":n[8]||(n[8]=d=>$.value=d),title:t.$t("giveUpSuccesslly"),message:W.value,showCancelButton:!1,confirmButtonText:t.$t("copyHash"),onOnConfirm:n[9]||(n[9]=d=>s(S)(L.value)),onOnCancel:n[10]||(n[10]=d=>$.value=!1)},null,8,["show","title","message","confirmButtonText"])],64)}}},ze=Y(Me,[["__scopeId","data-v-8208b7f7"]]);export{ze as default};
